if(typeof admintools=="undefined"){var admintools={}}if(typeof admintools.Modal=="undefined"){
/*!
	 * jsModal - A pure JavaScript modal dialog engine v1.0d
	 * http://jsmodal.com/
	 *
	 * Author: Henry Rune Tang Kai <henry@henrys.se>
	 *
	 * (c) Copyright 2013 Henry Tang Kai.
	 *
	 * License: http://www.opensource.org/licenses/mit-license.php
	 *
	 * Date: 2013-7-11
	 *
	 * Modified by Akeeba Ltd:
	 * - [Oct 2016] Prefix "akeeba-modal-" instead of generic "modal-" to avoid conflicts with 3PD software e.g. Bootstrap.
	 * - [Oct 2016] Remove support for AJAX content. We use our own AJAX handlers which work around 3PD plugins corrupting content.
	 * – [Oct 2016] Added method show() which just calls open() for backwards compatibility reasons.
	 * – [Oct 2016] Added parameter "inherit" where you can give a query selector for an element whose content will be inherited by the modal.
	 * – [Oct 2016] open() returns the Modal object so that we can interact with it through external code.
	 * – [Nov 2016] Added parameter "iframe" where you can give a URL to load inside an IFRAME.
	 */
;admintools.Modal=(function(){var b={},f={},c=document.createElement("div"),h=document.createElement("div"),d=document.createElement("div"),e=document.createElement("div"),g=document.createElement("div"),k=null,j,a,i={width:"auto",height:"auto",lock:false,hideClose:false,draggable:false,closeAfter:0,openCallback:false,closeCallback:false,hideOverlay:false};b.show=function(l){try{console.log("Using admintools.Modal.show() is deprecated. Use .open() instead.")}catch(m){}return b.open(l)};b.open=function(m){f.width=m.width||i.width;f.height=m.height||i.height;f.lock=m.lock||i.lock;f.hideClose=m.hideClose||i.hideClose;f.draggable=m.draggable||i.draggable;f.closeAfter=m.closeAfter||i.closeAfter;f.closeCallback=m.closeCallback||i.closeCallback;f.openCallback=m.openCallback||i.openCallback;f.hideOverlay=m.hideOverlay||i.hideOverlay;j=function(){b.center({})};e.innerHTML="";var l=null;if(m.content){e.innerHTML=m.content}else{if(m.inherit){l=m.inherit;if(typeof m.inherit=="string"){l=window.document.querySelector(m.inherit)}if((l!=null)&&(l.innerHTML)){k=l;while(k.childNodes.length>0){e.appendChild(k.childNodes[0])}}}else{if(m.iframe){l=window.document.createElement("iframe");l.setAttribute("src",m.iframe);l.setAttribute("width",m.width);l.setAttribute("height",m.height);l.setAttribute("frameborder",0);l.setAttribute("marginheight",0);l.setAttribute("marginwidth",0);e.appendChild(l)}}}h.style.width=f.width;h.style.height=f.height;b.center({});if(f.lock||f.hideClose){g.style.visibility="hidden"}if(!f.hideOverlay){c.style.visibility="visible"}h.style.visibility="visible";document.onkeypress=function(n){if(n.keyCode===27&&f.lock!==true){b.close()}};g.onclick=function(){if(!f.hideClose){b.close()}else{return false}};c.onclick=function(){if(!f.lock){b.close()}else{return false}};if(window.addEventListener){window.addEventListener("resize",j,false)}else{if(window.attachEvent){window.attachEvent("onresize",j)}}if(f.draggable){d.style.cursor="move";d.onmousedown=function(n){b.drag(n);return false}}else{d.onmousedown=function(){return false}}if(f.closeAfter>0){a=window.setTimeout(function(){b.close()},f.closeAfter*1000)}if(f.openCallback){f.openCallback()}return this};b.drag=function(p){var o=(window.event!==undefined)?window.event.clientX:p.clientX,n=(window.event!==undefined)?window.event.clientY:p.clientY,m=o-h.offsetLeft,l=n-h.offsetTop;document.onmousemove=function(q){o=(window.event!==undefined)?window.event.clientX:q.clientX;n=(window.event!==undefined)?window.event.clientY:q.clientY;h.style.left=((o-m)>0)?(o-m)+"px":0;h.style.top=((n-l)>0)?(n-l)+"px":0;document.onmouseup=function(){window.document.onmousemove=null}}};b.close=function(){if((k!==null)&&(k.length!==0)){while(e.childNodes.length>0){k.appendChild(e.childNodes[0])}k=null}e.innerHTML="";c.setAttribute("style","");c.style.cssText="";c.style.visibility="hidden";h.setAttribute("style","");h.style.cssText="";h.style.visibility="hidden";d.style.cursor="default";g.setAttribute("style","");g.style.cssText="";if(a){window.clearTimeout(a)}if(f.closeCallback){f.closeCallback()}if(window.removeEventListener){window.removeEventListener("resize",j,false)}else{if(window.detachEvent){window.detachEvent("onresize",j)}}};b.center=function(o){var q=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),l=Math.max(h.clientWidth,h.offsetWidth),m=Math.max(h.clientHeight,h.offsetHeight),s=0,n=0,r=0,p=0;if(typeof(window.innerWidth)==="number"){s=window.innerWidth;n=window.innerHeight}else{if(document.documentElement&&document.documentElement.clientWidth){s=document.documentElement.clientWidth;n=document.documentElement.clientHeight}}if(typeof(window.pageYOffset)==="number"){p=window.pageYOffset;r=window.pageXOffset}else{if(document.body&&document.body.scrollLeft){p=document.body.scrollTop;r=document.body.scrollLeft}else{if(document.documentElement&&document.documentElement.scrollLeft){p=document.documentElement.scrollTop;r=document.documentElement.scrollLeft}}}if(!o.horizontalOnly){h.style.top=p+(n/2)-(m/2)+"px"}h.style.left=r+(s/2)-(l/2)+"px";c.style.height=q+"px";c.style.width="100%"};c.setAttribute("id","akeeba-modal-overlay");h.setAttribute("id","akeeba-modal-container");d.setAttribute("id","akeeba-modal-header");e.setAttribute("id","akeeba-modal-content");g.setAttribute("id","akeeba-modal-close");d.appendChild(g);h.appendChild(d);h.appendChild(e);c.style.visibility="hidden";h.style.visibility="hidden";if(window.addEventListener){window.addEventListener("load",function(){document.body.appendChild(c);document.body.appendChild(h)},false)}else{if(window.attachEvent){window.attachEvent("onload",function(){document.body.appendChild(c);document.body.appendChild(h)})}}return b}())};